

#include "Timer.h"
#include "lcd.h"
#include "open_interface.h"
#include "servo.h"


int main(void) {
    servo_init();
    timer_init(); // Must be called before lcd_init(), which uses timer functions
    lcd_init();
//    oi_t *sensor_data = oi_alloc();
//    oi_init(sensor_data);
//    oi_free(sensor_data);

//    servo_move(90);
//    timer_waitMillis(2000);
//
//    servo_move(30);
//    timer_waitMillis(2000);
//
//    servo_move(150);
//    timer_waitMillis(2000);
//
//    servo_move(90);
    int pos;
    while(pos != 0b1000) {
        pos = button_getButton();


        if (pos == 0b00000001) {
            sprintf(string, "You pressed button 1\r\n");
            stringReturn(string);
        } else if (pos == 0b00000010) {
            sprintf(string, "You pressed button 2\r\n");
            stringReturn(string);
        }
    }


    return 0;
}
